# SQL 기본

## 관계형 데이터베이스(RDB)

데이터베이스에는 용도와 목적에 맞는 데이터들끼리 모아서 저장한다. 

테이블은 관계형 데이터베이스의 기본 단위이고 일반적으로 데이터베이스는 여러 개의 테이블로 구성된다. 

SQL: RDB에서 데이터를 다루기 위해 사용하는 언어.

## SQL

다른 컬럼끼리의 연산(가로 연산)에서 NULL이 포함되어 있으면 결과값은 항상 NULL이다. 

문자끼리 합성할 때는 `||`를 사용한다.

### 함수

1. LTRIM(`문자열`,특정문자열)
  - 특정문자열을 따로 명시한 경우 문자열을 왼쪽부터 한 글자씩 문자열과 비교하여 특정문자열에 포함되어 있으면 제거하고 그렇지 않다면 해당 작업을 멈춘다.
    - LTRIM('블랙핑크','블랙')의 결과값은 '핑크'
  - 특정문자열을 따로 명시하지 않은 경우 문자열의 왼쪽 공백을 제거한다. 

2. TRIM(위치, 특정문자열, FROM, `문자열`)
  - LTRIM, RTRIM과 달리 특정문자열에 한 글자만 지정할 수 있다. 

3. SUBSTR(`문자열`,`시작점`,길이)
  - 문자열의 원하는 부분만 잘라서 반환하는 함수.
  - 인덱스 생각하지 말것!

4. REPLACE(`문자열`, `변경 전 문자열`, 변경 후 문자열)
  - 변경 후 문자열을 명시해주지 않으면 문자열에서 변경 전 문자열을 제거한다.

5. SIGN(`수`)
  - 수의 부호를 반환하는 함수. 양수면 1, 음수면 -1, 0이면 0을 반환

6. ROUND(`수`, 자릿수)
  - 수를 지정된 소수점 자릿수까지 반올림하여 반환해주는 함수. 자릿수 인자를 명시하지 않았을 경우 기본값은 0이 적용되어 정수를 반환한다.
  - 자릿수 인자의 값이 음수일 경우 소수점 이하 모든 수를 신경쓰지 않고 정수 부분만을 반올림하여 반환한다. 

7. TRUNC(`수`, 자릿수)  
  - 수를 지정된 소수점 자릿수까지 버림하여 반환하는 함수.

8. CEIL(`수`)
  - 소수점 이하의 수를 올림한 정수를 반환하는 함수.

9. FLOOR(`수`)
  - 소수점 이하의 수를 버림한 정수를 반환하는 함수.

10. MOD(`수1`,`수2`)
  - 수1을 수2로 나눈 `나머지`를 반환하는 함수
  - 만약 수2가 0이라면 수1을 반환한다.
  - 두 인자 값이 모두 음수라면 반환값도 그대로 음수

11. SYSDATE
  - 현재의 연/월/일/시/분/초를 반환.

12. EXTRACT(특정 단위 FROM 날짜 데이터)
  - 날짜 데이터에서 특정 단위만을 출력해서 반환
  - ex) EXTRACT(YEAR FROM SYSDATE)

### 변환 함수

명시적 형변환과 암시적 형변환
  - VARCHAR이 뭐야?
    - VARCHAR은 데이터의 길이가 가변적이고 최대 길이가 8,000바이트 이하인 경우에 적합한 데이터 타입
    - 고정 길이 타입인 CHAR에 비해 저장 공간을 효율적으로 사용
  - 가능하면 명시적 형변환을 하는 것이 좋다.

### 명시적 형변환 함수

1. TO_NUMBER(`문자열`)
  - 문자열을 숫자형으로 변환해주는 함수
  - 숫자형으로 변환이 불가능한 인자를 작성하는 경우 에러 발생

2. TO_CHAR(`수 또는 날짜`, 포맷)
  - 수 또는 날짜형의 데이터를 포맷 형식의 `문자형`으로 변환하여 반환

3. TO_DATE(`문자열`, `포맷`)
  - 포맷 표현 방식
    - YYYY: 년
    - MM: 월
    - DD: 일
    - HH: 시(12)
    - MI: 분
    - SS: 초
